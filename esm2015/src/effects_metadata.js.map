{"version":3,"file":"effects_metadata.js","sourceRoot":"ng://@ngrx/effects/","sources":["src/effects_metadata.ts"],"names":[],"mappings":";;;;;AACA,OAAO,EAAE,uBAAuB,EAAE,MAAM,kBAAkB,CAAC;AAC3D,OAAO,EAAE,0BAA0B,EAAE,MAAM,oBAAoB,CAAC;;;;;;AAEhE,MAAM,UAAU,kBAAkB,CAAI,QAAW;IAC/C,OAAO,iBAAiB,CAAC,QAAQ,CAAC,CAAC,MAAM;;;;;IACvC,CACE,GAAuB,EACvB,EAAE,YAAY,EAAE,QAAQ,EAAE,sBAAsB,EAAE,EAClD,EAAE;QACF,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,sBAAsB,EAAE,CAAC;QACzD,OAAO,GAAG,CAAC;IACb,CAAC,GACD,EAAE,CACH,CAAC;AACJ,CAAC;;;;;;AAED,MAAM,UAAU,iBAAiB,CAAI,QAAW;;UACxC,OAAO,GAAgD;QAC3D,0BAA0B;QAC1B,uBAAuB;KACxB;IAED,OAAO,OAAO,CAAC,MAAM;;;;;IACnB,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GACrD,EAAE,CACH,CAAC;AACJ,CAAC","sourcesContent":["import { EffectMetadata, EffectsMetadata } from './models';\nimport { getCreateEffectMetadata } from './effect_creator';\nimport { getEffectDecoratorMetadata } from './effect_decorator';\n\nexport function getEffectsMetadata<T>(instance: T): EffectsMetadata<T> {\n  return getSourceMetadata(instance).reduce(\n    (\n      acc: EffectsMetadata<T>,\n      { propertyName, dispatch, useEffectsErrorHandler }\n    ) => {\n      acc[propertyName] = { dispatch, useEffectsErrorHandler };\n      return acc;\n    },\n    {}\n  );\n}\n\nexport function getSourceMetadata<T>(instance: T): EffectMetadata<T>[] {\n  const effects: Array<(instance: T) => EffectMetadata<T>[]> = [\n    getEffectDecoratorMetadata,\n    getCreateEffectMetadata,\n  ];\n\n  return effects.reduce<EffectMetadata<T>[]>(\n    (sources, source) => sources.concat(source(instance)),\n    []\n  );\n}\n"]}