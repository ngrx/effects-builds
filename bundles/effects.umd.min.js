/**
 * @license NgRx 7.4.0+19.sha-45a5781
 * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@ngrx/store"),require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("@ngrx/effects",["exports","@ngrx/store","rxjs","rxjs/operators","@angular/core"],t):t(((e=e||self).ngrx=e.ngrx||{},e.ngrx.effects={}),e["@ngrx/store"],e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,t,r,n,o){"use strict";var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c="__@ngrx/effects_create__";function i(e){return Object.getOwnPropertyNames(e).filter(function(t){return e[t]&&e[t].hasOwnProperty(c)}).map(function(t){return f({propertyName:t},e[t][c])})}function u(e){return Object.getPrototypeOf(e)}var a="__@ngrx/effects__";function s(e){return t.compose(p,u)(e)}function p(e){return e.constructor.hasOwnProperty(a)?e.constructor[a]:[]}function l(e){return[s,i].reduce(function(t,r){return t.concat(r(e))},[])}var y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,f=r.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=f.next()).done;)c.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=f.return)&&r.call(f)}finally{if(o)throw o.error}}return c},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e};function g(e){var t=u(e).constructor.name,o=l(e).map(function(r){var o=r.propertyName,f=r.dispatch,c="function"==typeof e[o]?e[o]():e[o];return!1===f?c.pipe(n.ignoreElements()):c.pipe(n.materialize()).pipe(n.map(function(r){return{effect:e[o],notification:r,propertyName:o,sourceName:t,sourceInstance:e}}))});return r.merge.apply(void 0,d(o))}var h,v=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(e){function n(t){var r=e.call(this)||this;return t&&(r.source=t),r}var f,c;return v(n,e),f=n,n.prototype.lift=function(e){var t=new f;return t.source=this,t.operator=e,t},f=function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.Injectable(),(0,c=o.Inject(t.ScannedActionsSubject),function(e,t){c(e,t,0)}),b("design:paramtypes",[r.Observable])],n)}(r.Observable),m="ngrxOnIdentifyEffects",_="ngrxOnRunEffects",j=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(e){function r(t,r){var n=e.call(this)||this;return n.errorHandler=t,n.store=r,n}return j(r,e),r.prototype.addEffects=function(e){this.next(e),"ngrxOnInitEffects"in e&&"function"==typeof e.ngrxOnInitEffects&&this.store.dispatch(e.ngrxOnInitEffects())},r.prototype.toActions=function(){var e=this;return this.pipe(n.groupBy(u),n.mergeMap(function(e){return e.pipe(n.groupBy(E))}),n.mergeMap(function(t){return t.pipe(n.exhaustMap(P),n.map(function(t){return function r(e,t){!function r(e,t){"E"===e.notification.kind&&t.handleError(e.notification.error)}(e,t),function n(e,t){if("N"===e.notification.kind){var r=e.notification.value;!function n(e){return e&&e.type&&"string"==typeof e.type}(r)&&t.handleError(new Error("Effect "+function o(e){var t=e.propertyName;return'"'+e.sourceName+"."+t+("function"==typeof e.sourceInstance[t]?"()":"")+'"'}(e)+" dispatched an invalid action: "+function f(e){try{return JSON.stringify(e)}catch(t){return e}}(r)))}}(e,t)}(t,e.errorHandler),t.notification}),n.filter(function(e){return"N"===e.kind}),n.dematerialize())}))},function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.Injectable(),x("design:paramtypes",[o.ErrorHandler,t.Store])],r)}(r.Subject);function E(e){return m in e&&"function"==typeof e[m]?e[m]():""}function P(e){var t=g(e);return function r(e){var t=u(e);return _ in t&&"function"==typeof t[_]}(e)?e.ngrxOnRunEffects(t):t}new o.InjectionToken("ngrx/effects: Immediate Effects");var S=new o.InjectionToken("ngrx/effects: Root Effects"),w=new o.InjectionToken("ngrx/effects: Feature Effects"),I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function(){function e(e,t){this.effectSources=e,this.store=t,this.effectsSubscription=null}return e.prototype.start=function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))},e.prototype.ngOnDestroy=function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)},function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.Injectable(),I("design:paramtypes",[R,t.Store])],e)}(),M=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(e,t){return function(r,n){t(r,n,e)}},F="@ngrx/effects/init",D=function(){function e(e,t,r,n,o,f){this.sources=e,t.start(),n.forEach(function(t){return e.addEffects(t)}),r.dispatch({type:F})}return e.prototype.addEffects=function(e){this.sources.addEffects(e)},function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.NgModule({}),A(3,o.Inject(S)),A(4,o.Optional()),A(5,o.Optional()),M("design:paramtypes",[R,N,t.Store,Array,t.StoreRootModule,t.StoreFeatureModule])],e)}(),T=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=function(e,t){return function(r,n){t(r,n,e)}},q=function(){return function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.NgModule({}),k(1,o.Inject(w)),k(2,o.Optional()),k(3,o.Optional()),T("design:paramtypes",[D,Array,t.StoreRootModule,t.StoreFeatureModule])],function e(t,r,n,o){r.forEach(function(e){return e.forEach(function(e){return t.addEffects(e)})})})}(),H=function(){function e(){}return e.forFeature=function(e){return{ngModule:q,providers:[e,{provide:w,multi:!0,deps:e,useFactory:z}]}},e.forRoot=function(e){return{ngModule:D,providers:[N,R,O,e,{provide:S,deps:e,useFactory:z}]}},function(e,t,r,n){var o,f=arguments.length,c=f<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(f<3?o(c):f>3?o(t,r,c):o(t,r))||c);return f>3&&c&&Object.defineProperty(t,r,c),c}([o.NgModule({})],e)}();function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}e.ɵngrx_modules_effects_effects_c=q,e.ɵngrx_modules_effects_effects_a=z,e.ɵngrx_modules_effects_effects_b=D,e.ɵngrx_modules_effects_effects_f=N,e.ɵngrx_modules_effects_effects_e=w,e.ɵngrx_modules_effects_effects_d=S,e.createEffect=function B(e,t){var r=(void 0===t?{}:t).dispatch,n=void 0===r||r,o=e();return Object.defineProperty(o,c,{value:{dispatch:n}}),o},e.Effect=function C(e){var t=(void 0===e?{}:e).dispatch,r=void 0===t||t;return function(e,t){!function n(e,t){var r=e.constructor,n=r.hasOwnProperty(a)?r[a]:Object.defineProperty(r,a,{value:[]})[a];Array.prototype.push.apply(n,t)}(e,[{propertyName:t,dispatch:r}])}},e.getEffectsMetadata=function J(e){var t,r,n={};try{for(var o=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(l(e)),f=o.next();!f.done;f=o.next()){var c=f.value;n[c.propertyName]={dispatch:c.dispatch}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.mergeEffects=g,e.Actions=O,e.ofType=function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.filter(function(t){return e.some(function(e){return"string"==typeof e?e===t.type:e.type===t.type})})},e.EffectsModule=H,e.EffectSources=R,e.ROOT_EFFECTS_INIT=F,Object.defineProperty(e,"__esModule",{value:!0})});